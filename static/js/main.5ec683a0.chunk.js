(window.webpackJsonphn=window.webpackJsonphn||[]).push([[0],{191:function(e,t,n){e.exports=n(402)},196:function(e,t,n){},221:function(e,t){},235:function(e,t){},237:function(e,t){},402:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(10),o=n.n(i),c=(n(196),n(22)),u=n.n(c),s=n(51),l=n(34),p="UPDATE_ID_CACHE",d="UPDATE_SECTION",f="UPDATE_VISIBLE_STORIES",h="UPDATE_CURRENT_PAGE";function g(e){return{type:p,ids:e}}function m(e){return{type:f,stories:e}}function b(e){return{type:h,page:e}}var v=n(33);var E=Object(v.b)({idCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.ids;default:return e}},section:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.section;default:return e}},visibleStories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.stories;default:return e}},currentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.page;default:return e}}}),w="https://hacker-news.firebaseio.com/v0",O=10,y="hnViewed",S=Object(v.c)(E,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),j=n(183),k=n(403),C=n(424),x={updateSection:function(e){return{type:d,section:e}},updateIdCache:g,updateCurrentPage:b,updateVisibleStories:m},P={margin:"2em auto",padding:"0.5em"};var _=Object(l.b)((function(e){return{section:e.section,idCache:e.idCache}}),x)((function(e){var t=e.section,n=e.updateSection,i=(e.idCache,e.updateIdCache),o=e.updateCurrentPage,c=e.updateVisibleStories;function l(e){e.stopPropagation();var r=e.currentTarget.id;r!==t&&(c([]),n(r),o(1))}return Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/".concat(t,"stories.json"));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,i(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,i]),a.a.createElement(k.a,{style:P,elevation:2,align:"center"},a.a.createElement(C.a,{disabled:"top"===t,id:"top",onClick:function(e){return l(e)}},"Top"),a.a.createElement(C.a,{disabled:"new"===t,id:"new",onClick:function(e){return l(e)}},"New"),a.a.createElement(C.a,{disabled:"best"===t,id:"best",onClick:function(e){return l(e)}},"Best"),a.a.createElement(C.a,{disabled:"ask"===t,id:"ask",onClick:function(e){return l(e)}},"Ask"),a.a.createElement(C.a,{disabled:"show"===t,id:"show",onClick:function(e){return l(e)}},"Show"),a.a.createElement(C.a,{disabled:"job"===t,id:"job",onClick:function(e){return l(e)}},"Jobs"))})),I=n(184),D=n(114),T=n(113),N=n.n(T),V=n(76),A=n.n(V),J=n(425),U=n(422),B=n(419),R=n(420),L=n(421);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={marginLeft:"20px",padding:"5px"};var G=function(e){var t=e.data,n=e.timeout,i=Object(r.useState)(!1),o=Object(D.a)(i,2),c=o[0],u=o[1],s=Object(r.useState)(!1),l=Object(D.a)(s,2),p=l[0],d=l[1];Object(r.useEffect)((function(){for(var e=JSON.parse(localStorage.getItem(y)),n=0;n<e.length;n++)e[n].id===t.id&&d(!0)}),[t.id]);var f=function(e){e.stopPropagation(),function(){d(!0);for(var e=JSON.parse(localStorage.getItem(y)),n=!1,r=0;r<e.length;r++)e[r].id===t.id&&(n=!0);n||(e.push({id:t.id,time:N()().unix()}),localStorage.setItem(y,JSON.stringify(e)))}(),t.url&&window.open(t.url),t.text&&u((function(e){return!e}))};return a.a.createElement(J.a,{direction:"right",in:""!==t.title,mountOnEnter:!0,unmountOnExit:!0,key:t.id,style:{transitionDelay:"".concat(n,"ms")}},a.a.createElement(B.a,{onClick:function(e){return f(e)},style:{margin:"2em auto",cursor:"pointer"}},a.a.createElement(R.a,null,a.a.createElement(L.a,{variant:"h6"},A()(t.title)),a.a.createElement(L.a,{variant:"caption",align:"right",gutterBottom:!0},t.url&&t.url.split("/")[2].replace(/^www\./,"")),a.a.createElement(L.a,{gutterBottom:!0},c&&A()(t.text),!c&&t.text&&A()(t.text.substring(0,70)+"...")),a.a.createElement(U.a,{align:"right"},a.a.createElement(L.a,{variant:"overline",style:z},N.a.unix(t.time).fromNow()),p&&a.a.createElement(L.a,{variant:"overline",style:z},t.score+" points"),p&&a.a.createElement(C.a,{onClick:function(e){return function(e){e.stopPropagation(),window.open("https://news.ycombinator.com/item?id=".concat(t.id))}(e)},style:X({fontWeight:400},z),size:"small"},t.kids&&t.kids.length+" replies"||"0 replies")))))},H=n(423),$={updateIdCache:g,updateVisibleStories:m,updateCurrentPage:b};var q=Object(l.b)((function(e){return{visibleStories:e.visibleStories,idCache:e.idCache,page:e.currentPage}}),$)((function(e){var t=e.visibleStories,n=e.updateVisibleStories,i=e.idCache,o=(e.updateIdCache,e.page),c=e.updateCurrentPage;function l(e){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/item/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.a)((function(){t.length===o*O&&c(++o)}),500,200),Object(r.useEffect)((function(){Storage&&null===localStorage.getItem(y)&&localStorage.setItem(y,JSON.stringify([]))}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var r,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>0&&t.length<o*O)){e.next=13;break}r=[],a=i.slice(o*O-O,o*O),c=0;case 4:if(!(c<a.length)){e.next=12;break}return e.next=7,l(a[c]);case 7:s=e.sent,r.push(s);case 9:c++,e.next=4;break;case 12:n(t.concat(r));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o,i,t,n]),a.a.createElement(U.a,{maxWidth:"md"},a.a.createElement(_,null),t.map((function(e,t){return a.a.createElement(G,{data:e,key:e.title,timeout:50*t})})),a.a.createElement(U.a,{align:"center"},a.a.createElement(H.a,{style:{margin:"2em"}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(l.a,{store:S},a.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[191,1,2]]]);
//# sourceMappingURL=main.5ec683a0.chunk.js.map