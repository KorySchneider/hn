{"version":3,"sources":["redux/actions.js","redux/reducers.js","redux/store.js","util/fetchItem.js","components/Menu.js","components/CardSubtextItem.js","components/Story.js","components/Spinner.js","components/Comment.js","components/Comments.js","components/App.js","serviceWorker.js","index.js"],"names":["UPDATE_ID_CACHE","UPDATE_SECTION","UPDATE_VISIBLE_STORIES","UPDATE_CURRENT_PAGE","UPDATE_COMMENTS_OPEN","UPDATE_COMMENTS","UPDATE_COMMENTS_PARENT","updateIdCache","ids","type","updateVisibleStories","stories","updateCurrentPage","page","updateCommentsOpen","open","rootReducer","combineReducers","idCache","state","action","section","visibleStories","currentPage","commentsOpen","comments","commentsParent","parent","url","pageSize","localStorageViewedKey","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","id","a","fetch","response","json","result","fetchItem","actionCreators","updateSection","style","margin","padding","connect","handleMenuClick","event","stopPropagation","clickedSection","currentTarget","useEffect","results","fetchIds","Paper","elevation","align","Button","disabled","onClick","e","cardSubtextStyle","marginLeft","CardSubtextItem","text","styles","Typography","variant","updateComments","updateCommentsParent","data","timeout","useState","expanded","setExpanded","viewed","setViewed","JSON","parse","localStorage","getItem","i","length","handleClick","alreadyViewed","push","time","moment","unix","setItem","stringify","addToViewed","Slide","direction","in","title","mountOnEnter","unmountOnExit","key","transitionDelay","Card","cursor","CardContent","h2p","split","replace","substring","CardActions","Container","fromNow","score","kids","openComments","fontWeight","size","Spinner","CircularProgress","Comment","depth","childComments","setChildComments","fetchingKids","setFetchingKids","fetchKids","kid","filter","item","dead","deleted","raised","map","p","gutterBottom","by","visibleComments","setVisibleComments","commentsPage","setCommentsPage","commentsPageSize","scrollRef","useBottomScrollListener","items","slice","concat","fetchComments","handleCloseClick","Modal","onClose","overflowY","ref","maxWidth","outline","marginTop","Fab","color","position","bottom","right","zIndex","Storage","isAfter","subtract","story","fetchPage","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.49dad60f.chunk.js","sourcesContent":["export const UPDATE_ID_CACHE = 'UPDATE_ID_CACHE';\nexport const UPDATE_SECTION = 'UPDATE_SECTION';\nexport const UPDATE_VISIBLE_STORIES = 'UPDATE_VISIBLE_STORIES';\nexport const UPDATE_CURRENT_PAGE = 'UPDATE_CURRENT_PAGE';\nexport const UPDATE_COMMENTS_OPEN = 'UPDATE_COMMENTS_OPEN';\nexport const UPDATE_COMMENTS = 'UPDATE_COMMENTS';\nexport const UPDATE_COMMENTS_PARENT = 'UPDATE_COMMENTS_PARENT';\n\nexport function updateIdCache(ids) {\n  return {\n    type: UPDATE_ID_CACHE,\n    ids: ids,\n  }\n}\n\nexport function updateSection(section) {\n  return {\n    type: UPDATE_SECTION,\n    section: section,\n  }\n}\n\nexport function updateVisibleStories(stories) {\n  return {\n    type: UPDATE_VISIBLE_STORIES,\n    stories: stories,\n  }\n}\n\nexport function updateCurrentPage(page) {\n  return {\n    type: UPDATE_CURRENT_PAGE,\n    page: page,\n  }\n}\n\nexport function updateCommentsOpen(open) {\n  return {\n    type: UPDATE_COMMENTS_OPEN,\n    open: open,\n  }\n}\n\nexport function updateComments(comments) {\n  return {\n    type: UPDATE_COMMENTS,\n    comments: comments,\n  }\n}\n\nexport function updateCommentsParent(parent) {\n  return {\n    type: UPDATE_COMMENTS_PARENT,\n    parent: parent,\n  }\n}\n","import { combineReducers } from 'redux';\nimport {\n  UPDATE_ID_CACHE,\n  UPDATE_SECTION,\n  UPDATE_VISIBLE_STORIES,\n  UPDATE_CURRENT_PAGE,\n  UPDATE_COMMENTS_OPEN,\n  UPDATE_COMMENTS,\n  UPDATE_COMMENTS_PARENT,\n} from './actions';\n\nfunction idCache(state = [], action) {\n  switch(action.type) {\n    case UPDATE_ID_CACHE:\n      return action.ids;\n    default:\n      return state;\n  }\n}\n\nfunction section(state = 'top', action) {\n  switch(action.type) {\n    case UPDATE_SECTION:\n      return action.section;\n    default:\n      return state;\n  }\n}\n\nfunction visibleStories(state = [], action) {\n  switch(action.type) {\n    case UPDATE_VISIBLE_STORIES:\n      return action.stories;\n    default:\n      return state;\n  }\n}\n\nfunction currentPage(state = 1, action) {\n  switch(action.type) {\n    case UPDATE_CURRENT_PAGE:\n      return action.page;\n    default:\n      return state;\n  }\n}\n\nfunction commentsOpen(state = false, action) {\n  switch(action.type) {\n    case UPDATE_COMMENTS_OPEN:\n      return action.open;\n    default:\n      return state;\n  }\n}\n\nfunction comments(state = [], action) {\n  switch(action.type) {\n    case UPDATE_COMMENTS:\n      return action.comments;\n    default:\n      return state;\n  }\n}\n\nfunction commentsParent(state = null, action) {\n  switch(action.type) {\n    case UPDATE_COMMENTS_PARENT:\n      return action.parent;\n    default:\n      return state;\n  }\n}\n\nconst rootReducer = combineReducers({\n  idCache,\n  section,\n  visibleStories,\n  currentPage,\n  commentsOpen,\n  comments,\n  commentsParent,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nexport const url = 'https://hacker-news.firebaseio.com/v0';\nexport const pageSize = 10;\nexport const localStorageViewedKey = 'hnViewed';\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","import { url } from '../redux/store';\n\nasync function fetchItem(id) {\n  const response = await fetch(`${url}/item/${id}.json`);\n  const result = await response.json();\n  return result;\n}\n\nexport default fetchItem;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  updateSection,\n  updateIdCache,\n  updateCurrentPage,\n  updateVisibleStories,\n} from '../redux/actions';\n\nimport { url } from '../redux/store';\n\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\n\nconst mapState = state => ({\n  section: state.section,\n  idCache: state.idCache,\n});\n\nconst actionCreators = {\n  updateSection,\n  updateIdCache,\n  updateCurrentPage,\n  updateVisibleStories,\n};\n\nconst style = {\n  margin: '2em auto',\n  padding: '0.5em',\n};\n\nfunction Menu({\n  section,\n  updateSection,\n  idCache,\n  updateIdCache,\n  updateCurrentPage,\n  updateVisibleStories,\n}) {\n\n  function handleMenuClick(event) {\n    event.stopPropagation();\n    let clickedSection = event.currentTarget.id;\n    if (clickedSection !== section) {\n      updateVisibleStories([]);\n      updateIdCache([]);\n      updateSection(clickedSection);\n      updateCurrentPage(1);\n    }\n  }\n\n  useEffect(() => {\n    async function fetchIds() {\n      const response = await fetch(url + `/${section}stories.json`);\n      const results = await response.json();\n      updateIdCache(results);\n    }\n    fetchIds();\n  }, [section, updateIdCache])\n\n  return (\n    <Paper style={style} elevation={2} align='center'>\n      <Button\n        disabled={section === 'top'}\n        id='top'\n        onClick={e => handleMenuClick(e)}\n      >\n        Top\n      </Button>\n\n      <Button\n        disabled={section === 'new'}\n        id='new'\n        onClick={e => handleMenuClick(e)}\n      >\n        New\n      </Button>\n\n      <Button\n        disabled={section === 'best'}\n        id='best'\n        onClick={e => handleMenuClick(e)}\n      >\n        Best\n      </Button>\n\n      <Button\n        disabled={section === 'ask'}\n        id='ask'\n        onClick={e => handleMenuClick(e)}\n      >\n        Ask\n      </Button>\n\n      <Button\n        disabled={section === 'show'}\n        id='show'\n        onClick={e => handleMenuClick(e)}\n      >\n        Show\n      </Button>\n\n      <Button\n        disabled={section === 'job'}\n        id='job'\n        onClick={e => handleMenuClick(e)}\n      >\n        Jobs\n      </Button>\n    </Paper>\n  )\n}\n\nexport default connect(mapState, actionCreators)(Menu);\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nexport const cardSubtextStyle = {\n  marginLeft: '20px',\n  padding: '5px',\n};\n\nexport default function CardSubtextItem({ text, styles }) {\n  return (\n    <Typography\n      variant='overline'\n      style={{...cardSubtextStyle, ...styles}}\n    >\n      {text}\n    </Typography>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { localStorageViewedKey } from '../redux/store';\n\nimport {\n  updateCommentsOpen,\n  updateComments,\n  updateCommentsParent,\n} from '../redux/actions';\n\nimport moment from 'moment';\nimport h2p from 'html2plaintext';\n\nimport CardSubtextItem, { cardSubtextStyle } from './CardSubtextItem';\n\nimport Slide from '@material-ui/core/Slide';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst mapState = state => ({\n  commentsOpen: state.commentsOpen,\n});\n\nconst actionCreators = {\n  updateCommentsOpen,\n  updateComments,\n  updateCommentsParent,\n};\n\nfunction Story({\n  data,\n  timeout,\n  commentsOpen,\n  updateCommentsOpen,\n  updateComments,\n  updateCommentsParent,\n}) {\n  const [expanded, setExpanded] = useState(false);\n  const [viewed, setViewed] = useState(false);\n\n  // Check if previously viewed\n  useEffect(() => {\n    const viewed = JSON.parse(localStorage.getItem(localStorageViewedKey));\n    for (let i = 0; i < viewed.length; i++) {\n      if (viewed[i].id === data.id) setViewed(true);\n    }\n  }, [data.id]);\n\n  const addToViewed = () => {\n    setViewed(true);\n    let viewed = JSON.parse(localStorage.getItem(localStorageViewedKey));\n    let alreadyViewed = false;\n    for (let i = 0; i < viewed.length; i++) {\n      if (viewed[i].id === data.id) alreadyViewed = true;\n    }\n    if (!alreadyViewed) {\n      viewed.push({\n        id: data.id,\n        time: moment().unix(),\n      });\n      localStorage.setItem(localStorageViewedKey, JSON.stringify(viewed));\n    }\n  }\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n\n    addToViewed();\n\n    if (data.url) window.open(data.url);\n    if (data.text) setExpanded(expanded => !expanded);\n  }\n\n  const openComments = (e) => {\n    e.stopPropagation();\n    //window.open(`https://news.ycombinator.com/item?id=${data.id}`);\n    updateCommentsOpen(true);\n    updateCommentsParent(data);\n    updateComments(data.kids);\n  }\n\n  return (\n    <Slide\n      direction='right'\n      in={data.title !== ''}\n      mountOnEnter\n      unmountOnExit\n      key={data.id}\n      style={{ transitionDelay: `${timeout}ms` }}\n    >\n      <Card\n        onClick={e => handleClick(e)}\n        style={{\n          margin: '2em auto',\n          cursor: 'pointer',\n        }}\n      >\n        <CardContent>\n          <Typography variant='h6'>\n            {h2p(data.title)}\n          </Typography>\n          <Typography variant='caption'>\n            {data.url && data.url.split('/')[2].replace(/^www\\./, '')}\n          </Typography>\n          <Typography>\n            {expanded && h2p(data.text)}\n            {!expanded && data.text &&\n              h2p(data.text.substring(0, 70) + '...')\n            }\n          </Typography>\n        </CardContent>\n\n        <CardActions>\n          <Container align='right'>\n            <CardSubtextItem\n              text={moment.unix(data.time).fromNow()}\n            />\n            {viewed &&\n              <CardSubtextItem\n                text={data.score + ' points'}\n              />\n            }\n            {viewed &&\n              <Button\n                onClick={e => openComments(e)}\n                style={{ fontWeight: 400, ...cardSubtextStyle }}\n                size='small'\n              >\n                {(data.kids && data.kids.length + ' replies') || '0 replies'}\n              </Button>\n            }\n          </Container>\n        </CardActions>\n      </Card>\n    </Slide>\n  )\n}\n\nexport default connect(mapState, actionCreators)(Story);\n","import React from 'react';\n\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nfunction Spinner() {\n  return (\n    <Container align='center'>\n      <CircularProgress style={{ margin: '2em' }} />\n    </Container>\n  )\n}\n\nexport default Spinner;\n","import React, { useState } from 'react';\n\nimport fetchItem from '../util/fetchItem';\n\nimport moment from 'moment';\nimport h2p from 'html2plaintext';\n\nimport CardSubtextItem, { cardSubtextStyle } from './CardSubtextItem';\nimport Spinner from './Spinner';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Slide from '@material-ui/core/Slide';\n\nfunction Comment({ data, depth }) {\n\n  const [childComments, setChildComments] = useState([]);\n  const [fetchingKids, setFetchingKids] = useState(false);\n\n  const fetchKids = async () => {\n    setFetchingKids(true);\n    let kids = [];\n    for (let i = 0; i < data.kids.length; i++) {\n      const kid = await fetchItem(data.kids[i]);\n      kids.push(kid);\n    }\n    kids = kids.filter(item => {\n      if (item === null) return false;\n      if (item.dead || item.deleted) return false;\n      return true;\n    })\n    setChildComments(kids);\n    setFetchingKids(false);\n  };\n\n  return (\n    <span>\n      <Slide\n        direction='up'\n        in={data.id >= 0}\n        mountOnEnter\n        unmountOnExit\n      >\n        <Card\n          raised\n          style={{\n            margin: '1em',\n            padding: '5px',\n            marginLeft: `calc(1em + ${depth}em)`\n          }}\n        >\n          <CardContent>\n            {data.text && data.text.split('<p>').map((p, i) => (\n              <Typography gutterBottom key={p+i}>\n                {h2p(p)}\n              </Typography>\n            ))}\n          </CardContent>\n\n          <CardActions>\n            <Container align='right'>\n              <CardSubtextItem\n                text={<span>&mdash; {data.by}</span>}\n              />\n              <CardSubtextItem\n                text={moment.unix(data.time).fromNow()}\n              />\n              <Button\n                size='small'\n                style={{ fontWeight: 400, ...cardSubtextStyle }}\n                onClick={fetchKids}\n                disabled={!data.kids || (data.kids && data.kids.length === 0)}\n              >\n                {(data.kids && data.kids.length + ' replies') || '0 replies'}\n              </Button>\n            </Container>\n          </CardActions>\n        </Card>\n      </Slide>\n\n      {fetchingKids &&\n        <Spinner />\n      }\n      {childComments.map((item, i) => (\n        <Comment\n          data={item}\n          key={item.by + item.id}\n          timeout={i * 50}\n          depth={depth + 1}\n        />\n      ))}\n    </span>\n  )\n}\n\nexport default Comment;\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux';\nimport { updateCommentsOpen } from '../redux/actions';\nimport fetchItem from '../util/fetchItem';\n\nimport { useBottomScrollListener } from 'react-bottom-scroll-listener';\nimport h2p from 'html2plaintext';\nimport moment from 'moment';\n\nimport Comment from './Comment';\nimport CardSubtextItem from './CardSubtextItem';\nimport Spinner from './Spinner';\n\nimport Modal from '@material-ui/core/Modal';\nimport Container from '@material-ui/core/Container';\nimport Fab from '@material-ui/core/Fab';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\n\nconst mapState = state => ({\n  commentsOpen: state.commentsOpen,\n  comments: state.comments,\n  commentsParent: state.commentsParent,\n});\n\nconst actionCreators = {\n  updateCommentsOpen,\n};\n\nfunction Comments({\n  commentsOpen,\n  comments,\n  commentsParent,\n  updateCommentsOpen,\n}) {\n  const [visibleComments, setVisibleComments] = useState([]);\n  const [commentsPage, setCommentsPage] = useState(1);\n  const commentsPageSize = 10;\n\n  const scrollRef = useBottomScrollListener(() => {\n    if (commentsOpen &&\n        visibleComments.length <= commentsPage * commentsPageSize) {\n      setCommentsPage(commentsPage => ++commentsPage);\n    }\n  });\n\n  useEffect(() => {\n    async function fetchComments() {\n      if (!commentsOpen) return;\n      if (visibleComments.length < commentsPage * commentsPageSize) {\n        let items = [];\n        const ids = comments.slice(\n          (commentsPage * commentsPageSize) - commentsPageSize,\n          commentsPage * commentsPageSize\n        );\n        for (let i = 0; i < ids.length; i++) {\n          const item = await fetchItem(ids[i]);\n          items.push(item);\n        }\n        // Filter duplicate and null items\n        items = items.filter(item => {\n          if (item === null) return false;\n          if (item.dead || item.deleted) return false;\n          for (let i = 0; i < visibleComments.length; i++) {\n            if (item.id === visibleComments[i].id)\n              return false;\n          }\n          return true;\n        });\n        if (items.length > 0) {\n          setVisibleComments(visibleComments.concat(items));\n        }\n      }\n    }\n    fetchComments();\n  }, [comments, commentsPage, commentsOpen, visibleComments]);\n\n  const handleCloseClick = () => {\n    updateCommentsOpen(false);\n    setVisibleComments([]);\n    setCommentsPage(1);\n  };\n\n  if (commentsParent === null) return null;\n  return (\n    <Modal\n      open={commentsOpen}\n      onClose={handleCloseClick}\n      style={{ overflowY: 'scroll' }}\n      ref={scrollRef}\n    >\n      <Container\n        maxWidth='md'\n        style={{\n          outline: 0,\n          marginTop: '1em',\n          padding: '5px',\n        }}\n      >\n        <Slide\n          direction='up'\n          mountOnEnter\n          unmountOnExit\n          in={commentsOpen}\n        >\n          <Card raised>\n            <CardContent style={{ padding: '1em' }}>\n              <Typography variant='h5'>\n                {commentsParent.title}\n              </Typography>\n              {commentsParent.url &&\n                <Typography variant='caption'>\n                  {commentsParent.url.split('/')[2].replace(/^www\\./, '')}\n                </Typography>\n              }\n              {commentsParent.text &&\n                commentsParent.text.split('<p>').map(p => (\n                  <Typography key={p}>\n                    {h2p(p)}\n                  </Typography>\n                ))\n              }\n            </CardContent>\n\n            <CardActions>\n              <Container align='right'>\n                <CardSubtextItem\n                  text={<span>&mdash; {commentsParent.by}</span>}\n                />\n                <CardSubtextItem\n                  text={moment.unix(commentsParent.time).fromNow()}\n                />\n              </Container>\n            </CardActions>\n          </Card>\n        </Slide>\n\n        <Fab\n          onClick={handleCloseClick}\n          color='primary'\n          style={{\n            position: 'fixed',\n            bottom: '2em',\n            right: '2em',\n            zIndex: 1,\n          }}\n        >\n          <CloseIcon />\n        </Fab>\n\n        {visibleComments.map((item, i) => (\n          <Comment\n            data={item}\n            key={item.id}\n            timeout={0}\n            depth={0}\n          />\n        ))}\n\n        <Spinner />\n      </Container>\n    </Modal>\n  )\n}\n\nexport default connect(mapState, actionCreators)(Comments);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  updateIdCache,\n  updateVisibleStories,\n  updateCurrentPage,\n} from '../redux/actions';\n\nimport moment from 'moment';\n\nimport { localStorageViewedKey } from '../redux/store';\nimport { pageSize } from '../redux/store';\n\nimport fetchItem from '../util/fetchItem';\n\nimport { useBottomScrollListener } from 'react-bottom-scroll-listener';\n\nimport Menu from './Menu';\nimport Story from './Story';\nimport Comments from './Comments';\nimport Spinner from './Spinner';\n\nimport Container from '@material-ui/core/Container';\n\nconst mapState = state => ({\n  visibleStories: state.visibleStories,\n  idCache: state.idCache,\n  page: state.currentPage,\n});\n\nconst actionCreators = {\n  updateIdCache,\n  updateVisibleStories,\n  updateCurrentPage,\n};\n\nfunction App({\n  visibleStories,\n  updateVisibleStories,\n  idCache,\n  updateIdCache,\n  page,\n  updateCurrentPage,\n}) {\n\n  useBottomScrollListener(() => {\n    if (visibleStories.length === page * pageSize) {\n      updateCurrentPage(page + 1);\n    }\n  }, 500, 200)\n\n  useEffect(() => {\n    // Init storage\n    if (Storage && localStorage.getItem(localStorageViewedKey) === null) {\n      localStorage.setItem(localStorageViewedKey, JSON.stringify([]));\n    }\n\n    // Remove old items\n    const data = localStorage.getItem(localStorageViewedKey);\n    if (data) {\n      let viewed = JSON.parse(data);\n      viewed = viewed.filter(item => (\n        moment.unix(item.time).isAfter(moment().subtract(5, 'days'))\n      ));\n      localStorage.setItem(localStorageViewedKey, JSON.stringify(viewed));\n    }\n  }, []);\n\n  useEffect(() => {\n    async function fetchPage() {\n      if (idCache.length > 0 && visibleStories.length < page * pageSize) {\n        let stories = [];\n        const ids = idCache.slice(\n          (page * pageSize) - pageSize,\n          page * pageSize\n        );\n        for (let i = 0; i < ids.length; i++) {\n          const story = await fetchItem(ids[i]);\n          stories.push(story);\n        }\n        updateVisibleStories(visibleStories.concat(stories));\n      }\n    }\n    fetchPage();\n  }, [\n    page,\n    idCache,\n    visibleStories,\n    updateVisibleStories,\n  ])\n\n  return (\n    <Container maxWidth='md'>\n      {/* Menu */}\n      <Menu />\n\n      {/* Stories */}\n      {visibleStories.map((item, i) => (\n        <Story data={item} key={item.title} timeout={i * 50} />\n      ))}\n\n      <Spinner />\n\n      <Comments />\n    </Container>\n  );\n}\n\nexport default connect(mapState, actionCreators)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}